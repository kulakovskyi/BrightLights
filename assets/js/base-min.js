const iconMenu=document.querySelector(".menu__icon"),iconMenuSpan=document.querySelector(".menu__icon > span"),menuBody=document.querySelector(".header__menu"),boby=document.querySelector("body");iconMenu.addEventListener("click",function(e){iconMenu.classList.toggle("_active"),menuBody.classList.toggle("_active"),boby.classList.toggle("_lock"),window.onclick=function(e){e.target!==menuBody&&e.target!==iconMenu&&e.target!==iconMenuSpan&&(menuBody.classList.remove("_active"),iconMenu.classList.remove("_active"))}});const player=document.querySelector(".single__music"),playBtn=document.querySelector(".music__button"),audio=document.querySelector(".audio"),progress=document.querySelector(".music__progressbar"),progressDone=document.querySelector(".progressbar__done"),timeIn=document.querySelector(".time__in"),timeAll=document.querySelector(".time__all");function playSong(){player.classList.add("play"),playBtn.classList.add("_pause"),audio.play()}function pauseSong(){player.classList.remove("play"),playBtn.classList.remove("_pause"),audio.pause()}function updateProgress(e){const{duration:t,currentTime:s}=e.target,n=s/t*100;progressDone.style.width=`${n}%`,minutesPrepros(s,timeIn)}function setProgress(e){const t=this.clientWidth,s=e.offsetX,n=audio.duration;audio.currentTime=s/t*n}function minutesPrepros(e,t){let s=Math.floor(e/60).toString(),n=Math.floor(e%60).toString(),o=s.padStart(2,"0")+":"+n.padStart(2,"0");t.innerHTML=o}playBtn.addEventListener("click",()=>{player.classList.contains("play")?pauseSong():playSong()}),audio.addEventListener("timeupdate",updateProgress),progress.addEventListener("click",setProgress),audio.onloadedmetadata=function(){let e=Math.floor(this.duration),t=Math.floor(this.currentTime);minutesPrepros(e,timeAll),minutesPrepros(t,timeIn)};const playerTracks=document.querySelector(".tracks__music"),playBtnTracks=document.querySelector(".music__button__2"),audioTracks=document.querySelector(".audio-list"),progressTracks=document.querySelector(".music__progressbar__2"),progressDoneTracks=document.querySelector(".progressbar__done__2"),timeInTracks=document.querySelector(".time__in__2"),timeAllTracks=document.querySelector(".time__all__2"),songs=["one","two","three","fourth","five","six"];let songIndex=0;function loadSong(e){audioTracks.src=`assets/music/${e}.mp3`}const songBtn=document.querySelectorAll(".tracks__item"),songButtonContainer=document.querySelector(".tracks__info");function nextSong(){songIndex>songs.length-1&&(songIndex=0),loadSong(songs[songIndex]),songIndex++,playSongTracks(),songBtn.forEach(e=>{e.classList.remove("_active"),e.dataset.songCount==songIndex&&e.classList.add("_active")})}function playSongTracks(){playerTracks.classList.add("play-2"),playBtnTracks.classList.add("_pause"),audioTracks.play()}function pauseSongTracks(){playerTracks.classList.remove("play-2"),playBtnTracks.classList.remove("_pause"),audioTracks.pause()}function updateProgressTracks(e){const{duration:t,currentTime:s}=e.target,n=s/t*100;progressDoneTracks.style.width=`${n}%`,minutesPrepros(s,timeInTracks)}function setProgressTracks(e){const t=this.clientWidth,s=e.offsetX,n=audioTracks.duration;audioTracks.currentTime=s/t*n}songButtonContainer.addEventListener("click",e=>{if("BUTTON"===e.target.tagName){songBtn.forEach(e=>{e.classList.remove("_active")}),e.target.classList.add("_active");Number(e.target.dataset.songCount);songIndex=e.target.dataset.songCount,loadSong(songs[songIndex-1]),playSongTracks()}}),audioTracks.addEventListener("ended",nextSong),playBtnTracks.addEventListener("click",()=>{playerTracks.classList.contains("play-2")?pauseSongTracks():playSongTracks()}),audioTracks.addEventListener("timeupdate",updateProgressTracks),progressTracks.addEventListener("click",setProgressTracks),audioTracks.onloadedmetadata=function(){let e=Math.floor(this.duration),t=Math.floor(this.currentTime);minutesPrepros(e,timeAllTracks),minutesPrepros(t,timeInTracks)};const swiper=new Swiper(".swiper",{direction:"horizontal",loop:!0,slidesPerView:3,spaceBetween:28,autoplay:{delay:3e3,speed:1e3},breakpoints:{320:{slidesPerView:1,spaceBetween:35},750:{slidesPerView:2,spaceBetween:35},1202:{slidesPerView:3,spaceBetween:30}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});